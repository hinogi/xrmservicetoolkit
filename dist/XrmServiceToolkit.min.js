!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.XrmServiceToolkit=t():e.XrmServiceToolkit=t()}(this,function(){return function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";var r=a(6);t.Rest=r["default"];var n=a(7);t.Soap=n["default"];var i=a(3);t.Extension=i["default"]},function(e,t){"use strict";function a(e){void 0!==Xrm.Utility&&void 0!==Xrm.Utility.alertDialog?Xrm.Utility.alertDialog(e):alert(e)}function r(e,t){var a;return a=null===e||null===t||void 0===e||void 0===t?!1:e.replace(/[{}]/g,"").toLowerCase()===t.replace(/[{}]/g,"").toLowerCase()}function n(){var e;if("undefined"!=typeof window.GetGlobalContext)e=window.GetGlobalContext();else if("undefined"!=typeof GetGlobalContext)e=GetGlobalContext();else if("undefined"!=typeof Xrm)e=Xrm.Page.context;else{if("undefined"==typeof window.parent.Xrm)throw new Error("Context is not available.");e=window.parent.Xrm.Page.context}return e}function i(){var e="undefined"!=typeof n().getClientUrl?n().getClientUrl():n().getServerUrl();return e.match(/\/$/)&&(e=e.substring(0,e.length-1)),e}function s(e){var t="",a="";if(null===e||""===e||void 0===e)return e;for(var r=0,n=0,i=e.length;i>n;n++){var s=e.charCodeAt(n);t+=s>96&&123>s||s>64&&91>s||32===s||s>47&&58>s||46===s||44===s||45===s||95===s?String.fromCharCode(s):"&#"+s+";",500===++r&&(a+=t,t="",r=0)}return t.length&&(a+=t),a}function o(e){for(var t,a="",r=0,n=e.length;n>r;r++)if(t=e.charCodeAt(r),t>=55296&&57343>=t)if(r+1<e.length){var i=e.charCodeAt(r+1);i>=56320&&57343>=i?(a+="CRMEntityReferenceOpen"+(1024*(t-55296)+(1023&i)+65536).toString(16)+"CRMEntityReferenceClose",r++):a+=String.fromCharCode(t)}else a+=String.fromCharCode(t);else a+=String.fromCharCode(t);for(e=a,a="",r=0,n=e.length;n>r;r++)t=e.charCodeAt(r),a+=t>=55296&&57343>=t?String.fromCharCode(65533):String.fromCharCode(t);return e=a,e=s(e),e=e.replace(/CRMEntityReferenceOpen/g,"&#x"),e=e.replace(/CRMEntityReferenceClose/g,";")}function c(e){return"undefined"==typeof e||"unknown"==typeof e||null===e?e:("string"!=typeof e&&(e=e.toString()),o(e))}function l(e){return"string"!=typeof e&&(e=e.toString()),e}t.alertMessage=a,t.guidsAreEqual=r,t.context=n,t.getClientUrl=i,t.htmlEncode=s,t.innerSurrogateAmpersandWorkaround=o,t.crmXmlEncode=c,t.crmXmlDecode=l},function(e,t){"use strict";function a(e,t){if("undefined"==typeof e||null===e)throw new Error(t)}function r(e,t){if("string"!=typeof e)throw new Error(t)}function n(e,t){if("function"!=typeof e)throw new Error(t)}function i(e,t){if("boolean"!=typeof e)throw new Error(t)}t.parameterCheck=a,t.stringParameterCheck=r,t.callbackParameterCheck=n,t.booleanParameterCheck=i},function(e,t,a){"use strict";var r=a(1),n=function(){function e(){}return e.JQueryXrmFieldTooltip=function(e,t){function a(e,a,r){var n=jQuery("#"+a+"_c").children(":first");if(null!=n){var i='\n                    <img id="img_'+a+'" src="/_imgs/ico/16_help.gif" alt="'+r+'" width="16" height="16" /><div id="help_'+a+'" style="visibility: hidden; position: absolute;">: '+r+"</div>\n                ";jQuery(n).append(i),jQuery("#img_"+a).css("display",t?"inline":"none")}}function n(e){var t=this,r=Xrm.Page.data.entity.getEntityName().toString().toLowerCase(),n=jQuery("entity[name="+r+"]",e);jQuery(n).children().each(function(){var e=jQuery(t).attr("name"),n=jQuery(t).find("shorthelp").text();a(r,e,n)})}if(void 0!==Xrm.Page.ui.setFormNotification)return void r.alertMessage("XrmServiceToolkit.Extension.JQueryXrmFieldTooltip is not supported in CRM2013.\nPlease use the out of box functionality");if("undefined"==typeof jQuery){var i="jQuery is not loaded.\nPlease ensure that jQuery is included\n as web resource in the form load.";return void r.alertMessage(i)}jQuery.support.cors=!0,jQuery.ajax({type:"GET",url:r.getClientUrl()+"/WebResources/"+e,dataType:"xml",success:n,error:function(e,t,a){r.alertMessage("Something is wrong to setup the tooltip for the fields. Please contact your administrator")}})},e.JQueryXrmDependentOptionSet=function(e){function t(e,t,a){for(var r in this.JQueryXrmDependentOptionSet.config)if(this.JQueryXrmDependentOptionSet.config.hasOwnProperty(r)){var n=this.JQueryXrmDependentOptionSet.config[r];if(n.parent===e&&n.dependent===t){var i=Xrm.Page.data.entity.attributes.get(e),s=Xrm.Page.data.entity.attributes.get(t),o=Xrm.Page.getControl(e),c=Xrm.Page.getControl(t),l=s.getValue(),u=void 0,m=void 0;if(null===i.getValue()){s.setValue(null),s.setSubmitMode("always"),s.fireOnChange(),u=s.controls.get();for(m in u)u.hasOwnProperty(m)&&u[m].setDisabled(!0);return}for(var d in n.options)if(n.options.hasOwnProperty(d)){var y=n.options[d],p=y.showOptions;if(i.getValue().toString()===y.value.toString()){u=s.controls.get();for(m in u)if(u.hasOwnProperty(m)){u[m].setDisabled(!1),u[m].clearOptions();for(var h in p)p.hasOwnProperty(h)&&u[m].addOption(p[h])}var f=!1,v=p;for(var g in v)if(v.hasOwnProperty(g)){var b=v[g].value;if(l===parseInt(b)){f=!0;break}}f?s.setValue(l):s.setValue(null),s.setSubmitMode("always"),s.fireOnChange(),o.getDisabled()===!0&&c.setDisabled(!0);break}}}}}function a(e){for(var a=Xrm.Page.data.entity.getEntityName().toString().toLowerCase(),r=jQuery("entity[name="+a+"]",e),n=r.children("ParentField"),i=[],s=0,o=n.length;o>s;s++){var c=n[s],l={};l.parent=jQuery(c).attr("id"),l.dependent=jQuery(c).children("DependentField:first").attr("id"),l.options=[];for(var u=jQuery(c).children("Option"),m=0,d=u.length;d>m;m++){var y={};y.value=jQuery(u[m]).attr("value"),y.showOptions=[];for(var p=jQuery(u[m]).children("ShowOption"),h=0,f=p.length;f>h;h++){var v={};v.value=jQuery(p[h]).attr("value"),v.text=jQuery(p[h]).attr("label"),y.showOptions.push(v)}l.options.push(y)}i.push(l)}this.JQueryXrmDependentOptionSet.config=i;for(var g in this.JQueryXrmDependentOptionSet.config)if(this.JQueryXrmDependentOptionSet.config.hasOwnProperty(g)){var b=this.JQueryXrmDependentOptionSet.config[g].parent,R=this.JQueryXrmDependentOptionSet.config[g].dependent;t(b,R,this.JQueryXrmDependentOptionSet)}}return"undefined"==typeof jQuery?void r.alertMessage("jQuery is not loaded.\nPlease ensure that jQuery is included\n as web resource in the form load."):(jQuery.support.cors=!0,void jQuery.ajax({type:"GET",url:r.getClientUrl()+"/WebResources/"+e,dataType:"xml",success:a,error:function(e,t,a){r.alertMessage("Something is wrong to setup the dependent picklist. Please contact your administrator")}}))},e.JQueryXrmCustomFilterView=function(e){function t(e,t,a,r,n){var i="{1DFB2B35-B07C-44D1-868D-258DEEAB88E2}";Xrm.Page.getControl(e).addCustomView(i,t,a,r,n,!0)}function a(e){var t="";try{null!=e&&("undefined"!=typeof XMLSerializer&&"undefined"==typeof e.xml?t=(new XMLSerializer).serializeToString(e):"undefined"!=typeof e.xml?t=e.xml:"undefined"!=typeof e[0].xml&&(t=e[0].xml))}catch(a){r.alertMessage("Cannot convert the XML to a string.")}return t}function n(e){for(var n=Xrm.Page.data.entity.getEntityName().toString().toLowerCase(),i=jQuery("entity[name="+n+"]",e),s=i.children("TargetField"),o=[],c=0,l=s.length;l>c;c++){var u=s[c],m={};m.target=jQuery(u).attr("id"),m.entityName=jQuery(u).attr("viewentity"),m.viewName=jQuery(u).attr("viewname"),m.dynamic=jQuery(u).children("dynamic").children(),m.fetchXml=a(jQuery(u).children("fetch")),m.layoutXml=a(jQuery(u).children("grid")),o.push(m)}this.JQueryXrmCustomFilterView.config=o;for(var d in this.JQueryXrmCustomFilterView.config)if(this.JQueryXrmCustomFilterView.config.hasOwnProperty(d)){var y=this.JQueryXrmCustomFilterView.config[d].target,p=this.JQueryXrmCustomFilterView.config[d].entityName,h=this.JQueryXrmCustomFilterView.config[d].viewName,f=this.JQueryXrmCustomFilterView.config[d].dynamic,v=this.JQueryXrmCustomFilterView.config[d].fetchXml,g=this.JQueryXrmCustomFilterView.config[d].layoutXml;if(null!=f)for(var b=0,R=f.length;R>b;b++){var N=Xrm.Page.getControl(jQuery(f).attr("name")).getControlType(),S=jQuery(f).attr("fieldvaluetype");if(null===Xrm.Page.getAttribute(jQuery(f).attr("name")).getValue())return void r.alertMessage(jQuery(f).attr("name")+" does not have a value. Please put validation logic on the field change to call this function. Only use XrmServiceToolkit.Extension.JQueryXrmCustomFilterView when the field has a value.");var C=null;switch(N){case"standard":C=Xrm.Page.getAttribute(jQuery(f).attr("name")).getValue();break;case"optionset":C=null!=S&&"label"===S?Xrm.Page.getAttribute(jQuery(f).attr("name")).getSelectionOption().text:Xrm.Page.getAttribute(jQuery(f).attr("name")).getValue();break;case"lookup":C=null!=S&&"name"===S?Xrm.Page.getAttribute(jQuery(f).attr("name")).getValue()[0].name:Xrm.Page.getAttribute(jQuery(f).attr("name")).getValue()[0].id;break;default:r.alertMessage(jQuery(f).attr("name")+" is not supported for filter lookup view. Please change the configuration.")}var T=jQuery(f).attr("operator");if(null===T)return void r.alertMessage("operator is missing in the configuration file. Please fix the issue");var P=jQuery(f).attr("fetchnote");switch(T.toLowerCase()){case"contains":case"does not contain":C="%"+C+"%";break;case"begins with":case"does not begin with":C+="%";break;case"ends with":case"does not end with":C="%"+C}v=v.replace(P,C)}t(y,p,h,v,g)}}return"undefined"==typeof jQuery?void r.alertMessage("jQuery is not loaded.\nPlease ensure that jQuery is included\n as web resource in the form load."):(jQuery.support.cors=!0,void jQuery.ajax({type:"GET",url:r.getClientUrl()+"/WebResources/"+e,dataType:"xml",success:n,error:function(e,t,a){r.alertMessage("Something is wrong to setup the custom filter view. Please contact your administrator")}}))},e.JQueryXrmFormatNotesControl=function(e,t){if(void 0!==Xrm.Page.ui.setFormNotification)return void r.alertMessage("XrmServiceToolkit.Extension.JQueryXrmFormatNotesControl is not supported in CRM2013");if("undefined"==typeof jQuery)return void r.alertMessage("jQuery is not loaded.\nPlease ensure that jQuery is included\n as web resource in the form load.");jQuery.support.cors=!0;var a=jQuery("#notescontrol");if(null!==a&&void 0!==a){var n=a.attr("url");if(null!=n)e?t||(n=n.replace("EnableInlineEdit=true","EnableInlineEdit=false")):n=n.replace("EnableInsert=true","EnableInsert=false"),a.attr("url",n);else{var i=a.attr("src");null!=i&&(e?t||(i=i.replace("EnableInlineEdit=true","EnableInlineEdit=false")):i=i.replace("EnableInsert=true","EnableInsert=false"),a.attr("src",i))}}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,a){"use strict";function r(){return c.getClientUrl()+"/XRMServices/2011/OrganizationData.svc/"}function n(e){throw new Error("Error : "+e.status+": "+e.statusText+": "+JSON.parse(e.responseText).error.message.value)}function i(e,t){var a;return"string"==typeof t&&(a=/Date\(([-+]?\d+)\)/.exec(t))?new Date(parseInt(t.replace("/Date(","").replace(")/",""),10)):t}function s(){if(XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.6.0")}catch(e){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return c.alertMessage("This browser is not AJAX enabled."),null}}}function o(e){l.parameterCheck(e,"The value passed to the performRequest function settings parameter is null or undefined.");var t=s();t.open(e.type,e.url,e.async),t.setRequestHeader("Accept","application/json"),null!=e.action&&t.setRequestHeader("X-HTTP-Method",e.action),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.async?(t.onreadystatechange=function(){4===t.readyState&&(204===t.status||1223===t.status||201===t.status?e.success(t):e.error?e.error(n(t)):n(t))},"undefined"==typeof e.data?t.send():t.send(e.data)):("undefined"==typeof e.data?t.send():t.send(e.data),204===t.status||1223===t.status||201===t.status?e.success(t):e.error?e.error(n(t)):n(t))}var c=a(1),l=a(2);t.oDataPath=r,t.errorHandler=n,t.dateReviver=i,t.getXhr=s,t.performRequest=o},function(e,t,a){"use strict";function r(e,t){t=t||2;for(var a=e.toString();a.length<t;)a="0"+a;return a}function n(e){return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())}function i(e){return"string"==typeof e&&"{"===e.slice(0,1)&&"}"===e.slice(-1)&&(e=e.slice(1,-1)),"object"==typeof e&&e.getTime?n(e):k.crmXmlEncode(e)}function s(e){var t=e.split(/\D/);return new Date(Date.UTC(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(t[3]),Number(t[4]),Number(t[5])))}function o(e){var t=new Map([["s","http://schemas.xmlsoap.org/soap/envelope/"],["a","http://schemas.microsoft.com/xrm/2011/Contracts"],["i","http://www.w3.org/2001/XMLSchema-instance"],["b","http://schemas.datacontract.org/2004/07/System.Collections.Generic"],["c","http://schemas.microsoft.com/xrm/2011/Metadata"],["ser","http://schemas.microsoft.com/xrm/2011/Contracts/Services"]]);return t.get(e)||null}function c(e){return null==e?!0:null!=e.attributes.getNamedItem("i:nil")&&"true"===e.attributes.getNamedItem("i:nil").value}function l(e,t){if("undefined"!=typeof e.selectNodes)return e.selectNodes(t);for(var a=[],r=e.evaluate(t,e,o,XPathResult.ANY_TYPE,null),n=r.iterateNext();n;)a.push(n),n=r.iterateNext();return a}function u(e,t){if("undefined"!=typeof e.selectSingleNode)return e.selectSingleNode(t);var a=new XPathEvaluator,r=a.evaluate(t,e,o,XPathResult.FIRST_ORDERED_NODE_TYPE,null);return r.singleNodeValue}function m(e,t){var a=u(e,t);return c(a)?null:"undefined"!=typeof a.text?a.text:a.textContent}function d(e){return"undefined"!=typeof e.text?e.text:e.textContent}function y(e){var t=["xmlns:s='http://schemas.xmlsoap.org/soap/envelope/'","xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts'","xmlns:i='http://www.w3.org/2001/XMLSchema-instance'","xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic'","xmlns:c='http://schemas.microsoft.com/xrm/2011/Metadata'","xmlns:ser='http://schemas.microsoft.com/xrm/2011/Contracts/Services'"];e.setProperty("SelectionNamespaces",t.join(" "))}function p(e){var t=null;try{t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e)}catch(a){if(DOMParser){var r=new DOMParser;t=r.parseFromString(e,"text/xml")}else k.alertMessage("Cannot convert the XML string to a cross-browser XML object.")}return t}function h(e){var t="";try{null!=e&&("undefined"!=typeof XMLSerializer&&"undefined"==typeof e.xml?t=(new XMLSerializer).serializeToString(e):"undefined"!=typeof e.xml?t=e.xml:"undefined"!=typeof e[0].xml&&(t=e[0].xml))}catch(a){k.alertMessage("Cannot convert the XML to a string.")}return t}function f(e){return-1!==e.constructor.toString().indexOf("Array")}function v(e,t,a){if(12029===t.status)throw new Error("The attempt to connect to the server failed.");if(12007===t.status)throw new Error("The server name could not be resolved.");var r=t.responseXML,n=null,i=null,s="Unknown (unable to parse the fault)";if(null!==r&&"object"==typeof r)for(var o=r.firstChild.firstChild,c=0;c<o.childNodes.length;c++){var l=o.childNodes[c];if("s:Fault"===l.nodeName){for(var u=0;u<l.childNodes.length;u++){var m=l.childNodes[u];if("faultstring"===m.nodeName&&(n=d(m)),"detail"===m.nodeName)for(var y=0;y<m.childNodes.length;y++){var p=m.childNodes[y];if("OrganizationServiceFault"===p.nodeName)for(var h=0;h<p.childNodes.length;h++){var f=p.childNodes[h];if("ErrorCode"===f.nodeName){i=d(f);break}}}}break}}if(null!=i&&null!=n?s="Error Code:"+i+" Message: "+n:null!=n&&(s=n),e)return new Error(s);throw new Error(s)}function g(e,t,a,r){a=a||!1;var n='\n    <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">\n        <soap:Body>\n            <'+t+' xmlns="http://schemas.microsoft.com/xrm/2011/Contracts/Services" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">'+e+"</"+t+">\n        </soap:Body>\n    </soap:Envelope>\n    ",i=new XMLHttpRequest;i.open("POST",b(),a),i.setRequestHeader("Accept","application/xml, text/xml, */*"),i.setRequestHeader("Content-Type","text/xml; charset=utf-8"),i.setRequestHeader("SOAPAction","http://schemas.microsoft.com/xrm/2011/Contracts/Services/IOrganizationService/"+t);try{i.responseType="msxml-document"}catch(s){}if(a)i.onreadystatechange=function(){if(4===i.readyState)if(i.onreadystatechange=null,200===i.status){var e=i.responseXML;try{y(e)}catch(t){}r(e)}else v(!0,i)},i.send(n);else{if(i.send(n),200===i.status){var o=i.responseXML;try{y(o)}catch(s){}var c=o;return r?r(c):c}v(!1,i)}}function b(){return k.getClientUrl()+"/XRMServices/2011/Organization.svc/web"}function R(e,t,a,r){var n='\n        <fetch mapping="logical" page="'+t+'" count="5000" paging-cookie="'+a+'">\n            '+e.replace(/\"/g,"'")+"\n        </fetch>\n    ",i='\n        <request i:type="a:RetrieveMultipleRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n            <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                <a:KeyValuePairOfstringanyType>\n                    <b:key>Query</b:key>\n                    <b:value i:type="a:FetchExpression">\n                        <a:Query>'+k.crmXmlEncode(n)+'</a:Query>\n                    </b:value>\n                </a:KeyValuePairOfstringanyType>\n            </a:Parameters>\n            <a:RequestId i:nil="true"/>\n            <a:RequestName>RetrieveMultiple</a:RequestName>\n        </request>\n    ';return g(i,"Execute",!1,function(a){for(var n=u(a,"//a:Entities"),i="true"===m(a,"//a:MoreRecords"),s=0,o=n.childNodes.length;o>s;s++){var c=new V;c.deserialize(n.childNodes[s]),r.push(c)}if(!i)return r;t+=1;var l=m(a,"//a:PagingCookie").replace(/\"/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;");R(e,t,l,r)})}function N(e,t,a){for(var r=[],n=0,i=t.length;i>n;n++)""!==t[n]&&void 0!=t[n]&&r.push(e,t[n],a);return r.join("")}function S(e,t){for(var a=[],r=0,n=e.length;n>r;r++)if(""!==e[r]){var s=t[r];if(typeof s==typeof[]){a.push("<condition attribute='",e[r],"' operator='in' >");for(var o in s)if(s.hasOwnProperty(o)){var c=i(s[o]);a.push("<value>"+c+"</value>")}a.push("</condition>")}else"string"==typeof s&&a.push("<condition attribute='",e[r],"' operator='eq' value='",i(s),"' />")}return a.join("")}function C(e){for(var t=0,a=w.length;a>t;t++)if(e===w[t])return!0;return!1}function T(e){return"undefined"!=typeof e.baseName?e.baseName:e.localName}function P(e){if(null!=e.attributes&&1===e.attributes.length&&null!=e.attributes.getNamedItem("i:nil")&&"true"===e.attributes.getNamedItem("i:nil").nodeValue)return null;if(null!=e.firstChild&&3===e.firstChild.nodeType){var t=T(e);switch(t){case"ActivityTypeMask":case"ObjectTypeCode":case"ColumnNumber":case"DefaultFormValue":case"MaxValue":case"MinValue":case"MaxLength":case"Order":case"Precision":case"PrecisionSource":case"LanguageCode":return parseInt(e.firstChild.nodeValue,10);case"AutoRouteToOwnerQueue":case"CanBeChanged":case"CanTriggerWorkflow":case"IsActivity":case"IsActivityParty":case"IsAvailableOffline":case"IsChildEntity":case"IsCustomEntity":case"IsCustomOptionSet":case"IsDocumentManagementEnabled":case"IsEnabledForCharts":case"IsGlobal":case"IsImportable":case"IsIntersect":case"IsManaged":case"IsReadingPaneEnabled":case"IsValidForAdvancedFind":case"CanBeSecuredForCreate":case"CanBeSecuredForRead":case"CanBeSecuredForUpdate":case"IsCustomAttribute":case"IsPrimaryId":case"IsPrimaryName":case"IsSecured":case"IsValidForCreate":case"IsValidForRead":case"IsValidForUpdate":case"IsCustomRelationship":case"CanBeBasic":case"CanBeDeep":case"CanBeGlobal":case"CanBeLocal":return"true"===e.firstChild.nodeValue;case"Value":return"true"===e.firstChild.nodeValue||"false"===e.firstChild.nodeValue?"true"===e.firstChild.nodeValue:"ApplicationRequired"===e.firstChild.nodeValue||"None"===e.firstChild.nodeValue||"Recommended"===e.firstChild.nodeValue||"SystemRequired"===e.firstChild.nodeValue?e.firstChild.nodeValue:parseInt(e.firstChild.nodeValue,10);default:return e.firstChild.nodeValue}}if(C(T(e))){for(var a=[],r=0,n=e.childNodes.length;n>r;r++){var i=void 0;i=null!=e.childNodes[r].attributes&&null!=e.childNodes[r].attributes.getNamedItem("i:type")?e.childNodes[r].attributes.getNamedItem("i:type").nodeValue.split(":")[1]:T(e.childNodes[r]);var s=P(e.childNodes[r]);s._type=i,a.push(s)}return a}if(0===e.childNodes.length)return null;var o={};null!=e.attributes.getNamedItem("i:type")&&(o._type=e.attributes.getNamedItem("i:type").nodeValue.split(":")[1]);for(var c=0,l=e.childNodes.length;l>c;c++)3===e.childNodes[c].nodeType?o[T(e.childNodes[c])]=e.childNodes[c].nodeValue:o[T(e.childNodes[c])]=P(e.childNodes[c]);return o}var k=a(1);t.padNumber=r,t.encodeDate=n,t.encodeValue=i;var x=function(){function e(e,t){this.type=e,this.value=t}return e}();t.xrmValue=x;var E=function(){function e(e,t,a){this.id=e,this.logicalName=t,this.name=a,this.type="EntityReference"}return e}();t.xrmEntityReference=E;var q=function(){function e(e){this.value=e,this.type="EntityCollection"}return e}();t.xrmEntityCollection=q;var O=function(){function e(e,t){this.value=e,this.formattedValue=t,this.type="OptionSetValue"}return e}();t.xrmOptionSetValue=O;var V=function(){function e(e,t){this.id=t?t:"00000000-0000-0000-0000-000000000000",this.logicalName=e,this.attributes=Object.create(null)}return e.prototype.serialize=function(){var e=["<b:value i:type='a:Entity'>"];e.push('<a:Attributes xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">');var t=this.attributes;for(var a in t)if(t.hasOwnProperty(a)){var r=t[a];if(e.push("<a:KeyValuePairOfstringanyType>"),e.push("<b:key>",a,"</b:key>"),null===r||null===r.value)e.push("<b:value i:nil='true' />");else{var n=r.type?k.crmXmlEncode(r.type):typeof r,s=void 0,o=void 0,c=void 0,l=void 0,u=void 0,m=void 0;switch(n){case"OptionSetValue":s=r.hasOwnProperty("value")?r.value:r,o=i(s),e.push("<b:value i:type='a:OptionSetValue'>"),e.push("<a:Value>",o,"</a:Value>","</b:value>");break;case"EntityCollection":e.push("<b:value i:type='a:EntityCollection'>"),e.push("<a:Entities>"),s=r.hasOwnProperty("value")?r.value:r;for(var d=f(s)?s:[s],y=0,p=d.length;p>y;y++){var h=d[y];c=h.hasOwnProperty("id")?h.id:h,l=i(c),u=h.hasOwnProperty("logicalName")?h.logicalName:h,m=i(u),e.push("<a:Entity>"),e.push("<a:Attributes>"),e.push("<a:KeyValuePairOfstringanyType>"),e.push("<b:key>partyid</b:key>"),e.push("<b:value i:type='a:EntityReference'>"),e.push("<a:Id>",l,"</a:Id>"),void 0!==Xrm.Utility.openQuickCreate&&e.push("<a:KeyAttributes xmlns:c='http://schemas.microsoft.com/xrm/7.1/Contracts' />"),e.push("<a:LogicalName>",m,"</a:LogicalName>"),e.push("<a:Name i:nil='true' />"),void 0!==Xrm.Utility.openQuickCreate&&e.push("<a:RowVersion i:nil='true' />"),e.push("</b:value>"),e.push("</a:KeyValuePairOfstringanyType>"),e.push("</a:Attributes>"),e.push("<a:EntityState i:nil='true' />"),e.push("<a:FormattedValues />"),e.push("<a:Id>00000000-0000-0000-0000-000000000000</a:Id>"),e.push("<a:LogicalName>activityparty</a:LogicalName>"),e.push("<a:RelatedEntities />"),e.push("</a:Entity>")}e.push("</a:Entities>"),e.push("<a:EntityName i:nil='true' />"),e.push("<a:MinActiveRowVersion i:nil='true' />"),e.push("<a:MoreRecords>false</a:MoreRecords>"),e.push("<a:PagingCookie i:nil='true' />"),e.push("<a:TotalRecordCount>0</a:TotalRecordCount>"),e.push("<a:TotalRecordCountLimitExceeded>false</a:TotalRecordCountLimitExceeded>"),e.push("</b:value>");break;case"EntityReference":c=r.hasOwnProperty("id")?r.id:r,l=i(c),u=r.hasOwnProperty("logicalName")?r.logicalName:r,m=i(u),e.push("<b:value i:type='a:EntityReference'>"),e.push("<a:Id>",l,"</a:Id>"),void 0!==Xrm.Utility.openQuickCreate&&e.push("<a:KeyAttributes xmlns:c='http://schemas.microsoft.com/xrm/7.1/Contracts' />"),e.push("<a:LogicalName>",m,"</a:LogicalName>"),e.push("<a:Name i:nil='true' />"),void 0!==Xrm.Utility.openQuickCreate&&e.push("<a:RowVersion i:nil='true' />"),e.push("</b:value>");break;case"Money":s=r.hasOwnProperty("value")?r.value:r,o=i(s),e.push("<b:value i:type='a:Money'>"),e.push("<a:Value>",o,"</a:Value>","</b:value>");break;case"guid":s=r.hasOwnProperty("value")?r.value:r,o=i(s),e.push("<b:value i:type='c:guid' xmlns:c='http://schemas.microsoft.com/2003/10/Serialization/'>"),e.push(o,"</b:value>");break;case"number":s=r.hasOwnProperty("value")?r.value:r,o=i(s);var v=parseInt(o)===o?"c:int":"c:decimal";e.push("<b:value i:type='",v,"' xmlns:c='http://www.w3.org/2001/XMLSchema'>"),e.push(o,"</b:value>");break;default:s=r.hasOwnProperty("value")?r.value:r,o=i(s),n="object"==typeof s&&s.getTime?"dateTime":n,e.push("<b:value i:type='c:",n,"' xmlns:c='http://www.w3.org/2001/XMLSchema'>",o,"</b:value>")}}e.push("</a:KeyValuePairOfstringanyType>")}return e.push("</a:Attributes><a:EntityState i:nil='true' />"),e.push("<a:FormattedValues xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic' />"),e.push("<a:Id>",i(this.id),"</a:Id>"),e.push("<a:LogicalName>",this.logicalName,"</a:LogicalName>"),e.push("<a:RelatedEntities xmlns:b='http://schemas.datacontract.org/2004/07/System.Collections.Generic' />"),e.push("</b:value>"),e.join("")},e.prototype.deserialize=function(e){for(var t=Object.create(null),a=e.childNodes,r=0,n=a.length;n>r;r++){var i=void 0,o=a[r];switch(o.nodeName){case"a:Attributes":for(var c=o,l=0,u=c.childNodes.length;u>l;l++){var m=c.childNodes[l],y=m.childNodes;i=d(y[0]);var p=y[1],h=p.attributes.getNamedItem("i:type").value;if("AliasedValue"===h.replace("c:","").replace("a:","")){var f=p.childNodes[2];h=f.attributes.getNamedItem("i:type").value,p=f}var v=void 0,g=void 0;switch(h){case"a:OptionSetValue":var b=new O;b.type=h.replace("a:",""),b.value=parseInt(d(p)),t[i]=b;break;case"a:EntityReference":v=new E,v.type=h.replace("a:","");for(var R=p.childNodes,N=0,S=R.length;S>N;N++){var C=R[N];switch(C.nodeName){case"a:Id":v.id=d(C);break;case"a:LogicalName":v.logicalName=d(C);break;case"a:Name":v.name=d(C)}}t[i]=v;break;case"a:EntityCollection":v=new q,v.type=h.replace("a:","");for(var T=[],P=p.childNodes,k=0,V=P[0].childNodes.length;V>k;k++)for(var w=m.childNodes[1].childNodes[0].childNodes[k].childNodes[0].childNodes,X=0,I=w.length;I>X;X++){var M=w[X].childNodes,A=d(M[0]);if("partyid"===A){for(var j=new E,L=M[1].childNodes,Q=0,K=L.length;K>Q;Q++){var D=L[N];switch(D.nodeName){case"a:Id":j.id=d(D);break;case"a:LogicalName":j.logicalName=d(D);break;case"a:Name":j.name=d(D)}}T[k]=j}}v.value=T,t[i]=v;break;case"a:Money":g=new x,g.type=h.replace("a:",""),g.value=parseFloat(d(p)),t[i]=g;break;default:g=new x,g.type=h.replace("c:","").replace("a:",""),"int"===g.type?g.value=parseInt(d(p)):"decimal"===g.type||"double"===g.type?g.value=parseFloat(d(p)):"dateTime"===g.type?g.value=s(d(p)):"boolean"===g.type?g.value="false"!==d(p):g.value=d(p),t[i]=g}}this.attributes=t;break;case"a:Id":this.id=d(o);break;case"a:LogicalName":this.logicalName=d(o);break;case"a:FormattedValues":for(var F=o,G=0,H=F.childNodes.length;H>G;G++){var J=F.childNodes[G];i=d(J.childNodes[0]),this.attributes[i].formattedValue=d(J.childNodes[1]),isNaN(this.attributes[i].value)&&"dateTime"===this.attributes[i].type&&(this.attributes[i].value=new Date(this.attributes[i].formattedValue))}}}},e}();t.businessEntity=V,t.stringToDate=s,t.nsResolver=o,t.isNodeNull=c,t.selectNodes=l,t.selectSingleNode=u,t.selectSingleNodeText=m,t.getNodeText=d,t.setSelectionNamespaces=y,t.xmlParser=p,t.xmlToString=h,t.isArray=f,t.getError=v,t.doRequest=g,t.fetchMore=R,t.joinArray=N,t.joinConditionPair=S;var w=["Attributes","ManyToManyRelationships","ManyToOneRelationships","OneToManyRelationships","Privileges","LocalizedLabels","Options","Targets"];t.isMetadataArray=C,t.getNodeName=T,t.objectifyNode=P},function(e,t,a){"use strict";var r=a(4),n=a(2),i=function(){function e(){}return e.Create=function(e,t,a,i,s){n.parameterCheck(e,"XrmServiceToolkit.REST.createRecord requires the object parameter."),n.stringParameterCheck(t,"XrmServiceToolkit.REST.createRecord requires the type parameter is a string."),n.callbackParameterCheck(a,"XrmServiceToolkit.REST.createRecord requires the successCallback is a function."),n.callbackParameterCheck(i,"XrmServiceToolkit.REST.createRecord requires the errorCallback is a function."),n.booleanParameterCheck(s,"XrmServiceToolkit.REST.createRecord requires the async is a boolean.");var o=r.getXhr();o.open("POST",r.oDataPath()+t,s),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),s?(o.onreadystatechange=function(){4===o.readyState&&(o.onreadystatechange=null,201===o.status?a(JSON.parse(o.responseText,r.dateReviver).d):i(r.errorHandler(o)))},o.send(JSON.stringify(e))):(o.send(JSON.stringify(e)),201===o.status?a(JSON.parse(o.responseText,r.dateReviver).d):i(r.errorHandler(o)))},e.Retrieve=function(e,t,a,i,s,o,c){n.stringParameterCheck(e,"XrmServiceToolkit.REST.retrieveRecord requires the id parameter is a string."),n.stringParameterCheck(t,"XrmServiceToolkit.REST.retrieveRecord requires the type parameter is a string."),null!=a&&n.stringParameterCheck(a,"XrmServiceToolkit.REST.retrieveRecord requires the select parameter is a string."),null!=i&&n.stringParameterCheck(i,"XrmServiceToolkit.REST.retrieveRecord requires the expand parameter is a string."),n.callbackParameterCheck(s,"XrmServiceToolkit.REST.retrieveRecord requires the successCallback parameter is a function."),n.callbackParameterCheck(o,"XrmServiceToolkit.REST.retrieveRecord requires the errorCallback parameter is a function."),n.booleanParameterCheck(c,"XrmServiceToolkit.REST.retrieveRecord requires the async parameter is a boolean.");var l="";if(null!=a||null!=i){if(l="?",null!=a){var u="$select="+a;null!=i&&(u=u+","+i),l+=u}null!=i&&(l=l+"&$expand="+i)}var m=r.getXhr();m.open("GET",r.oDataPath()+t+"(guid'"+e+"')"+l,c),m.setRequestHeader("Accept","application/json"),m.setRequestHeader("Content-Type","application/json; charset=utf-8"),c?(m.onreadystatechange=function(){4===m.readyState&&(200===m.status?s(JSON.parse(m.responseText,r.dateReviver).d):o(r.errorHandler(m)))},m.send()):(m.send(),200===m.status?s(JSON.parse(m.responseText,r.dateReviver).d):o(r.errorHandler(m)))},e.Update=function(e,t,a,i,s,o){n.stringParameterCheck(e,"XrmServiceToolkit.REST.updateRecord requires the id parameter."),n.parameterCheck(t,"XrmServiceToolkit.REST.updateRecord requires the object parameter."),n.stringParameterCheck(a,"XrmServiceToolkit.REST.updateRecord requires the type parameter."),n.callbackParameterCheck(i,"XrmServiceToolkit.REST.updateRecord requires the successCallback is a function."),n.callbackParameterCheck(s,"XrmServiceToolkit.REST.updateRecord requires the errorCallback is a function."),n.booleanParameterCheck(o,"XrmServiceToolkit.REST.updateRecord requires the async parameter is a boolean.");var c=r.getXhr();c.open("POST",r.oDataPath()+a+"(guid'"+e+"')",o),c.setRequestHeader("Accept","application/json"),c.setRequestHeader("Content-Type","application/json; charset=utf-8"),c.setRequestHeader("X-HTTP-Method","MERGE"),o?(c.onreadystatechange=function(){4===c.readyState&&(204===c.status||1223===c.status?i():s(r.errorHandler(c)))},c.send(JSON.stringify(t))):(c.send(JSON.stringify(t)),204===c.status||1223===c.status?i():s(r.errorHandler(c)))},e.Delete=function(e,t,a,i,s){n.stringParameterCheck(e,"XrmServiceToolkit.REST.deleteRecord requires the id parameter."),n.stringParameterCheck(t,"XrmServiceToolkit.REST.deleteRecord requires the type parameter."),n.callbackParameterCheck(a,"XrmServiceToolkit.REST.deleteRecord requires the successCallback is a function."),n.callbackParameterCheck(i,"XrmServiceToolkit.REST.deleteRecord requires the errorCallback is a function."),n.booleanParameterCheck(s,"XrmServiceToolkit.REST.deleteRecord requires the async parameter is a boolean.");var o=r.getXhr();o.open("POST",r.oDataPath()+t+"(guid'"+e+"')",s),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),
o.setRequestHeader("X-HTTP-Method","DELETE"),s?(o.onreadystatechange=function(){4===o.readyState&&(204===o.status||1223===o.status?a():i(r.errorHandler(o)))},o.send()):(o.send(),204===o.status||1223===o.status?a():i(r.errorHandler(o)))},e.RetrieveMultiple=function(e,t,a,i,s,o){var c=this;n.stringParameterCheck(e,"XrmServiceToolkit.REST.retrieveMultipleRecords requires the type parameter is a string."),null!=t&&n.stringParameterCheck(t,"XrmServiceToolkit.REST.retrieveMultipleRecords requires the options parameter is a string."),n.callbackParameterCheck(a,"XrmServiceToolkit.REST.retrieveMultipleRecords requires the successCallback parameter is a function."),n.callbackParameterCheck(i,"XrmServiceToolkit.REST.retrieveMultipleRecords requires the errorCallback parameter is a function."),n.callbackParameterCheck(s,"XrmServiceToolkit.REST.retrieveMultipleRecords requires the OnComplete parameter is a function."),n.booleanParameterCheck(o,"XrmServiceToolkit.REST.retrieveMultipleRecords requires the async parameter is a boolean.");var l="";null!=t&&(l="?"!==t.charAt(0)?"?"+t:t);var u=r.getXhr();if(u.open("GET",r.oDataPath()+e+l,o),u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-Type","application/json; charset=utf-8"),o)u.onreadystatechange=function(){if(4===u.readyState)if(200===u.status){var t=JSON.parse(u.responseText,r.dateReviver).d;if(a(t.results),null==t.__next)s();else{var n=t.__next.substring((r.oDataPath()+e).length);c.RetrieveMultiple(e,n,a,i,s,o)}}else i(r.errorHandler(u))},u.send();else if(u.send(),200===u.status){var m=JSON.parse(u.responseText,r.dateReviver).d;if(a(m.results),null==m.__next)s();else{var d=m.__next.substring((r.oDataPath()+e).length);this.RetrieveMultiple(e,d,a,i,s,o)}}else i(r.errorHandler(u))},e.Associate=function(e,t,a,i,s,o,c,l){n.parameterCheck(e,"XrmServiceToolkit.REST.associateRecord requires the entityid1 parameter."),n.parameterCheck(t,"XrmServiceToolkit.REST.associateRecord requires the odataSetName1 parameter."),n.parameterCheck(a,"XrmServiceToolkit.REST.associateRecord requires the entityid2 parameter."),n.parameterCheck(i,"XrmServiceToolkit.REST.associateRecord requires the odataSetName2 parameter."),n.parameterCheck(s,"XrmServiceToolkit.REST.associateRecord requires the relationship parameter."),n.callbackParameterCheck(o,"XrmServiceToolkit.REST.associateRecord requires the successCallback is a function."),n.callbackParameterCheck(c,"XrmServiceToolkit.REST.associateRecord requires the errorCallback is a function."),n.booleanParameterCheck(l,"XrmServiceToolkit.REST.associateRecord requires the async parameter is a boolean");var u={};u.uri=r.oDataPath()+"/"+i+"(guid'"+a+"')";var m=JSON.stringify(u);r.performRequest({type:"POST",url:r.oDataPath()+"/"+t+"(guid'"+e+"')/$links/"+s,data:m,success:o,error:c,async:l})},e.Disassociate=function(e,t,a,i,s,o,c){n.parameterCheck(e,"XrmServiceToolkit.REST.disassociateRecord requires the entityid1 parameter."),n.parameterCheck(t,"XrmServiceToolkit.REST.disassociateRecord requires the odataSetName parameter."),n.parameterCheck(a,"XrmServiceToolkit.REST.disassociateRecord requires the entityid2 parameter."),n.parameterCheck(i,"XrmServiceToolkit.REST.disassociateRecord requires the relationship parameter."),n.callbackParameterCheck(s,"XrmServiceToolkit.REST.disassociateRecord requires the successCallback is a function."),n.callbackParameterCheck(o,"XrmServiceToolkit.REST.disassociateRecord requires the errorCallback is a function."),n.booleanParameterCheck(c,"XrmServiceToolkit.REST.disassociateRecord requires the async parameter is a boolean.");var l=r.oDataPath()+"/"+t+"(guid'"+e+"')/$links/"+i+"(guid'"+a+"')";r.performRequest({url:l,type:"POST",action:"DELETE",error:o,success:s,async:c})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,a){"use strict";var r=a(1),n=a(5),i=function(){function e(){}return e.Create=function(e,t){var a=e.serialize(),i=!!t,s='\n            <request i:type="a:CreateRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                <a:KeyValuePairOfstringanyType>\n                    <b:key>Target</b:key>\n                    '+a+'\n                </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>Create</a:RequestName>\n            </request>\n        ';return n.doRequest(s,"Execute",i,function(e){var a=n.selectSingleNodeText(e,"//b:value"),s=r.crmXmlDecode(a);return i?void t(s):s})},e.Update=function(e,t){var a=e.serialize(),i=!!t,s='\n            <request i:type="a:UpdateRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>Target</b:key>\n                        '+a+'\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>Update</a:RequestName>\n            </request>\n        ';return n.doRequest(s,"Execute",i,function(e){var a=n.selectSingleNodeText(e,"//a:Results"),s=r.crmXmlDecode(a);return i?void t(s):s})},e.Delete=function(e,t,a){var i='\n            <request i:type="a:DeleteRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>Target</b:key>\n                        <b:value i:type="a:EntityReference">\n                            <a:Id>"\n                                '+t+"\n                            </a:Id>\n                            <a:LogicalName>\n                                "+e+'\n                            </a:LogicalName>\n                            <a:Name i:nil="true" />\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>Delete</a:RequestName>\n            </request>\n        ',s=!!a;return n.doRequest(i,"Execute",s,function(e){var t=n.selectSingleNodeText(e,"//a:Results"),i=r.crmXmlDecode(t);return s?void a(i):i})},e.Execute=function(e,t){var a=!!t;return n.doRequest(e,"Execute",a,function(e){return a?void t(e):e})},e.Fetch=function(e,t,a){var i=e;if("<entity"===e.slice(0,7))i='\n                <fetch mapping="logical">\n                    '+e.replace(/\"/g,"'")+"\n                </fetch>\n            ";else{var s=-1!==e.indexOf("aggregate="),o=-1!==e.indexOf("page='1'")&&-1!==e.indexOf("count='"),c=e.indexOf("distinct="),l=-1!==c,u=e.substring(c+9,c+10),m=l?e.substring(e.indexOf("distinct=")+10,e.indexOf(u,e.indexOf("distinct=")+10)):"false",d=n.xmlParser(e),y=n.selectSingleNode(d,"//entity");if(null===y)throw new Error("XrmServiceToolkit.Fetch: No 'entity' node in the provided FetchXML.");var p=y;try{e=n.xmlToString(p).replace(/\"/g,"'")}catch(h){if(void 0===p||!p.xml)throw new Error("XrmServiceToolkit.Fetch: This client does not provide the necessary XML features to continue.");e=p.xml.replace(/\"/g,"'")}s||o||(i='\n                    <fetch mapping="logical" distinct="'+(l?m:"false")+'"\'" >\n                        '+e+"\n                    </fetch>\n                ")}var f='\n            <request i:type="a:RetrieveMultipleRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>Query</b:key>\n                        <b:value i:type="a:FetchExpression">\n                            <a:Query>'+r.crmXmlEncode(i)+'</a:Query>\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true"/>\n                <a:RequestName>RetrieveMultiple</a:RequestName>\n            </request>\n        ',v=!!a;return n.doRequest(f,"Execute",v,function(r){var i=n.selectSingleNode(r,"//a:Entities"),s="true"===n.selectSingleNodeText(r,"//a:MoreRecords"),o=[];if(null!=i){for(var c=0,l=i.childNodes.length;l>c;c++){var u=new n.businessEntity;u.deserialize(i.childNodes[c]),o.push(u)}if(t&&s){var m=n.selectSingleNodeText(r,"//a:PagingCookie").replace(/\"/g,"'").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&quot;");n.fetchMore(e,2,m,o)}if(!v)return o;a(o)}})},e.Retrieve=function(e,t,a,r){var i="",s="";if(null!=a){for(var o=0,c=a.length;c>o;o++)i+="<c:string>"+a[o]+"</c:string>";s="<a:AllColumns>false</a:AllColumns><a:Columns xmlns:c='http://schemas.microsoft.com/2003/10/Serialization/Arrays'>"+i+"</a:Columns>"}else s="<a:AllColumns>true</a:AllColumns><a:Columns xmlns:b='http://schemas.microsoft.com/2003/10/Serialization/Arrays' />";var l='\n            <request i:type="a:RetrieveRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>Target</b:key>\n                        <b:value i:type="a:EntityReference">\n                            <a:Id>'+n.encodeValue(t)+"</a:Id>\n                            <a:LogicalName>"+e+'</a:LogicalName>\n                            <a:Name i:nil="true" />\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>ColumnSet</b:key>\n                        <b:value i:type="a:ColumnSet">\n                            '+s+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>Retrieve</a:RequestName>\n            </request>\n        ',u=!!r;return n.doRequest(l,"Execute",!!r,function(e){var t=n.selectSingleNode(e,"//b:value"),a=new n.businessEntity;return a.deserialize(t),u?void r(a):a})},e.RetrieveMultiple=function(e,t){var a='\n            <request i:type="a:RetrieveMultipleRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>Query</b:key>\n                        <b:value i:type="a:QueryExpression">\n                            '+e+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true"/>\n                <a:RequestName>RetrieveMultiple</a:RequestName>\n            </request>\n        ',r=!!t;return n.doRequest(a,"Execute",r,function(e){for(var a=n.selectSingleNode(e,"//a:Entities"),i=[],s=0,o=a.childNodes.length;o>s;s++){var c=new n.businessEntity;c.deserialize(a.childNodes[s]),i[s]=c}return r?void t(i):i})},e.QueryByAttribute=function(e,t){var a=e.entityName,r=e.attributes,i=e.values,s=e.columnSet,o=e.orderBy||"";r=n.isArray(r)?r:[r],i=n.isArray(i)?i:[i],o=o&&n.isArray(o)?o:[o],s=s&&n.isArray(s)?s:[s];var c='\n            <entity name="'+a+'">\n                    '+n.joinArray("<attribute name='",s,"' />")+"\n                    "+n.joinArray("<order attribute='",o,"' />")+"\n                <filter>\n                    "+n.joinConditionPair(r,i)+"\n                </filter>\n            </entity>\n        ";return this.Fetch(c,!1,t)},e.QueryAll=function(e,t){var a=e.entityName,r=e.attributes,i=e.values,s=e.columnSet,o=e.orderBy||"";r=n.isArray(r)?r:[r],i=n.isArray(i)?i:[i],o=o&&n.isArray(o)?o:[o],s=s&&n.isArray(s)?s:[s];var c='\n            <entity name="'+a+'">\n                    '+n.joinArray("<attribute name='",s,"' />")+"\n                    "+n.joinArray("<order attribute='",o,"' />")+"\n                <filter>\n                        "+n.joinConditionPair(r,i)+"\n                </filter>\n            </entity>\n        ";return this.Fetch(c,!0,t)},e.SetState=function(e,t,a,i,s){var o='\n            <request i:type="b:SetStateRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts" xmlns:b="http://schemas.microsoft.com/crm/2011/Contracts">\n                <a:Parameters xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <c:key>EntityMoniker</c:key>\n                        <c:value i:type="a:EntityReference">\n                            <a:Id>'+n.encodeValue(t)+"</a:Id>\n                            <a:LogicalName>"+e+'</a:LogicalName>\n                            <a:Name i:nil="true" />\n                        </c:value>\n                        </a:KeyValuePairOfstringanyType>\n                        <a:KeyValuePairOfstringanyType>\n                            <c:key>State</c:key>\n                            <c:value i:type="a:OptionSetValue">\n                             <a:Value>'+a.toString()+'</a:Value>\n                            </c:value>\n                        </a:KeyValuePairOfstringanyType>\n                        <a:KeyValuePairOfstringanyType>\n                            <c:key>Status</c:key>\n                            <c:value i:type="a:OptionSetValue">\n                             <a:Value>'+i.toString()+'</a:Value>\n                            </c:value>\n                        </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>SetState</a:RequestName>\n            </request>\n       ',c=!!s;return n.doRequest(o,"Execute",c,function(e){var t=n.selectSingleNodeText(e,"//ser:ExecuteResult"),a=r.crmXmlDecode(t);return c?void s(a):a})},e.Associate=function(e,t,a,i,s,o){var c=s;c=n.isArray(c)?c:[c];for(var l=[],u=0,m=c.length;m>u;u++)""!==c[u].id&&l.push("<a:EntityReference>","<a:Id>",c[u].id,"</a:Id>","<a:LogicalName>",i,"</a:LogicalName>","<a:Name i:nil='true' />","</a:EntityReference>");var d=l.join(""),y='\n            <request i:type="a:AssociateRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>Target</b:key>\n                        <b:value i:type="a:EntityReference">\n                            <a:Id>'+n.encodeValue(a)+"</a:Id>\n                            <a:LogicalName>"+t+'</a:LogicalName>\n                            <a:Name i:nil="true" />\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>Relationship</b:key>\n                        <b:value i:type="a:Relationship">\n                            <a:PrimaryEntityRole>Referenced</a:PrimaryEntityRole>\n                            <a:SchemaName>'+e+'</a:SchemaName>\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                    <b:key>RelatedEntities</b:key>\n                    <b:value i:type="a:EntityReferenceCollection">\n                        '+d+'\n                    </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>Associate</a:RequestName>\n            </request>\n        ',p=!!o;return n.doRequest(y,"Execute",p,function(e){var t=n.selectSingleNodeText(e,"//ser:ExecuteResult"),a=r.crmXmlDecode(t);return p?void o(a):a})},e.Disassociate=function(e,t,a,i,s,o){var c=s;c=n.isArray(c)?c:[c];for(var l=[],u=0,m=c.length;m>u;u++)""!==c[u].id&&l.push("<a:EntityReference>","<a:Id>",c[u].id,"</a:Id>","<a:LogicalName>",i,"</a:LogicalName>","<a:Name i:nil='true' />","</a:EntityReference>");var d=l.join(""),y='\n            <request i:type="a:DisassociateRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>Target</b:key>\n                        <b:value i:type="a:EntityReference">\n                            <a:Id>'+n.encodeValue(a)+"</a:Id>\n                            <a:LogicalName>"+t+'</a:LogicalName>\n                            <a:Name i:nil="true" />\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>Relationship</b:key>\n                        <b:value i:type="a:Relationship">\n                            <a:PrimaryEntityRole i:nil="true" />\n                            <a:SchemaName>'+e+'</a:SchemaName>\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                    <b:key>RelatedEntities</b:key>\n                    <b:value i:type="a:EntityReferenceCollection">\n                        '+d+'\n                    </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>Disassociate</a:RequestName>\n            </request>\n        ',p=!!o;return n.doRequest(y,"Execute",p,function(e){var t=n.selectSingleNodeText(e,"//ser:ExecuteResult"),a=r.crmXmlDecode(t);return p?void o(a):a})},e.GetCurrentUserId=function(){var e='\n            <request i:type="b:WhoAmIRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts" xmlns:b="http://schemas.microsoft.com/crm/2011/Contracts">\n                <a:Parameters xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic" />\n                <a:RequestId i:nil="true" />\n                <a:RequestName>WhoAmI</a:RequestName>\n            </request>\n        ',t=n.doRequest(e,"Execute");return n.getNodeText(n.selectNodes(t,"//b:value")[0])},e.GetCurrentUserBusinessUnitId=function(){var e='\n            <request i:type="b:WhoAmIRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts" xmlns:b="http://schemas.microsoft.com/crm/2011/Contracts">\n                <a:Parameters xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic" />\n                <a:RequestId i:nil="true" />\n                <a:RequestName>WhoAmI</a:RequestName>\n            </request>\n        ',t=n.doRequest(e,"Execute");return n.getNodeText(n.selectNodes(t,"//b:value")[1])},e.GetCurrentUserRoles=function(){var e='\n            <fetch version="1.0" output-format="xml-platform" mapping="logical" distinct="true">\n                <entity name="role">\n                <attribute name="name" />\n                <attribute name="businessunitid" />\n                <attribute name="roleid" />\n                <order attribute="name" descending="false" /> +\n                <link-entity name="systemuserroles" from="roleid" to="roleid" visible="false" intersect="true">\n                    <link-entity name="systemuser" from="systemuserid" to="systemuserid" alias="aa">\n                    <filter type="and">\n                        <condition attribute="systemuserid" operator="eq-userid" />\n                    </filter>\n                    </link-entity>\n                </link-entity>\n                </entity>\n            </fetch>\n        ',t=this.Fetch(e),a=[];if(null!==t&&"undefined"!=typeof t)for(var r=0,n=t.length;n>r;r++)a[r]=t[r].attributes.name.value;return a},e.IsCurrentUserInRole=function(){for(var e=this.GetCurrentUserRoles(),t=0,a=e.length;a>t;t++)for(var r=0,n=arguments.length;n>r;r++)if(e[t]===arguments[r])return!0;return!1},e.Assign=function(e,t,a,i,s){var o='\n            <request i:type="b:AssignRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts" xmlns:b="http://schemas.microsoft.com/crm/2011/Contracts">\n                <a:Parameters xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>Target</c:key>\n                    <c:value i:type="a:EntityReference">\n                        <a:Id>'+n.encodeValue(t)+"</a:Id>\n                        <a:LogicalName>"+e+'</a:LogicalName>\n                        <a:Name i:nil="true" />\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>Assignee</c:key>\n                    <c:value i:type="a:EntityReference">\n                        <a:Id>'+n.encodeValue(i)+"</a:Id>\n                        <a:LogicalName>"+a+'</a:LogicalName>\n                        <a:Name i:nil="true" />\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>Assign</a:RequestName>\n            </request>\n        ',c=!!s;return n.doRequest(o,"Execute",c,function(e){var t=n.selectSingleNodeText(e,"//ser:ExecuteResult"),a=r.crmXmlDecode(t);return c?void s(a):a})},e.GrantAccess=function(e,t){var a=e.targetEntityName,i=e.targetEntityId,s=e.principalEntityName,o=e.principalEntityId,c=e.accessRights;c=n.isArray(c)?c:[c];for(var l="",u=0,m=c.length;m>u;u++)l+=n.encodeValue(c[u])+" ";var d='\n            <request i:type="b:GrantAccessRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts" xmlns:b="http://schemas.microsoft.com/crm/2011/Contracts">\n                <a:Parameters xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>Target</c:key>\n                    <c:value i:type="a:EntityReference">\n                        <a:Id>'+n.encodeValue(i)+"</a:Id>\n                        <a:LogicalName>"+a+'</a:LogicalName>\n                        <a:Name i:nil="true" />\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>PrincipalAccess</c:key>\n                    <c:value i:type="b:PrincipalAccess">\n                        <b:AccessMask>'+l+"</b:AccessMask>\n                        <b:Principal>\n                        <a:Id>"+n.encodeValue(o)+"</a:Id>\n                        <a:LogicalName>"+s+'</a:LogicalName>\n                        <a:Name i:nil="true" />\n                        </b:Principal>\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>GrantAccess</a:RequestName>\n            </request>\n        ',y=!!t;return n.doRequest(d,"Execute",y,function(e){var a=n.selectSingleNodeText(e,"//ser:ExecuteResult"),i=r.crmXmlDecode(a);return y?void t(i):i})},e.ModifyAccess=function(e,t){var a=e.targetEntityName,i=e.targetEntityId,s=e.principalEntityName,o=e.principalEntityId,c=e.accessRights;c=n.isArray(c)?c:[c];for(var l="",u=0,m=c.length;m>u;u++)l+=n.encodeValue(c[u])+" ";var d='\n            <request i:type="b:ModifyAccessRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts" xmlns:b="http://schemas.microsoft.com/crm/2011/Contracts">\n                <a:Parameters xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>Target</c:key>\n                    <c:value i:type="a:EntityReference">\n                        <a:Id>'+n.encodeValue(i)+"</a:Id>\n                        <a:LogicalName>"+a+'</a:LogicalName>\n                        <a:Name i:nil="true" />\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>PrincipalAccess</c:key>\n                    <c:value i:type="b:PrincipalAccess">\n                        <b:AccessMask>'+l+"</b:AccessMask>\n                        <b:Principal>\n                        <a:Id>"+n.encodeValue(o)+"</a:Id>\n                        <a:LogicalName>"+s+'</a:LogicalName>\n                        <a:Name i:nil="true" />\n                        </b:Principal>\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>ModifyAccess</a:RequestName>\n            </request>\n        ',y=!!t;return n.doRequest(d,"Execute",y,function(e){var a=n.selectSingleNodeText(e,"//ser:ExecuteResult"),i=r.crmXmlDecode(a);return y?void t(i):i})},e.RevokeAccess=function(e,t){var a=e.targetEntityName,i=e.targetEntityId,s=e.revokeeEntityName,o=e.revokeeEntityId,c='\n            <request i:type="b:RevokeAccessRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts" xmlns:b="http://schemas.microsoft.com/crm/2011/Contracts">\n                <a:Parameters xmlns:c="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>Target</c:key>\n                    <c:value i:type="a:EntityReference">\n                        <a:Id>'+n.encodeValue(i)+"</a:Id>\n                        <a:LogicalName>"+a+'</a:LogicalName>\n                        <a:Name i:nil="true" />\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>Revokee</c:key>\n                    <c:value i:type="a:EntityReference">\n                        <a:Id>'+n.encodeValue(o)+"</a:Id>\n                        <a:LogicalName>"+s+'</a:LogicalName>\n                        <a:Name i:nil="true" />\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>RevokeAccess</a:RequestName>\n            </request>\n        ',l=!!t;return n.doRequest(c,"Execute",l,function(e){var a=n.selectSingleNodeText(e,"//ser:ExecuteResult"),i=r.crmXmlDecode(a);return l?void t(i):i})},e.RetrievePrincipalAccess=function(e,t){var a=e.targetEntityName,r=e.targetEntityId,i=e.principalEntityName,s=e.principalEntityId,o="\n            <request i:type='b:RetrievePrincipalAccessRequest' xmlns:a='http://schemas.microsoft.com/xrm/2011/Contracts' xmlns:b='http://schemas.microsoft.com/crm/2011/Contracts'>\n                <a:Parameters xmlns:c='http://schemas.datacontract.org/2004/07/System.Collections.Generic'>\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>Target</c:key>\n                    <c:value i:type='a:EntityReference'>\n                        <a:Id>"+n.encodeValue(r)+"</a:Id>\n                        <a:LogicalName>"+a+"</a:LogicalName>\n                        <a:Name i:nil='true' />\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                    <c:key>Principal</c:key>\n                    <c:value i:type='a:EntityReference'>\n                        <a:Id>"+n.encodeValue(s)+"</a:Id>\n                        <a:LogicalName>"+i+"</a:LogicalName>\n                        <a:Name i:nil='true' />\n                    </c:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil='true' />\n                <a:RequestName>RetrievePrincipalAccess</a:RequestName>\n            </request>\n        ",c=!!t;return n.doRequest(o,"Execute",c,function(e){var a=n.selectSingleNodeText(e,"//b:value");return c?void t(a):a})},e.RetrieveAllEntitiesMetadata=function(e,t,a){e=n.isArray(e)?e:[e];for(var r="",i=0,s=e.length;s>i;i++)r+=n.encodeValue(e[i])+" ";var o='\n            <request i:type="a:RetrieveAllEntitiesRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>EntityFilters</b:key>\n                        <b:value i:type="c:EntityFilters" xmlns:c="http://schemas.microsoft.com/xrm/2011/Metadata">\n                        '+n.encodeValue(r)+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>RetrieveAsIfPublished</b:key>\n                        <b:value i:type="c:boolean" xmlns:c="http://www.w3.org/2001/XMLSchema">\n                        '+n.encodeValue(t.toString())+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>RetrieveAllEntities</a:RequestName>\n            </request>\n        ',c=!!a;return n.doRequest(o,"Execute",c,function(e){for(var t=n.selectNodes(e,"//c:EntityMetadata"),r=[],i=0,s=t.length;s>i;i++){var o=n.objectifyNode(t[i]);o._type="EntityMetadata",r.push(o)}return c?void a(r):r})},e.RetrieveEntityMetadata=function(e,t,a,r){e=n.isArray(e)?e:[e];for(var i="",s=0,o=e.length;o>s;s++)i+=n.encodeValue(e[s])+" ";var c='\n            <request i:type="a:RetrieveEntityRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>EntityFilters</b:key>\n                        <b:value i:type="c:EntityFilters" xmlns:c="http://schemas.microsoft.com/xrm/2011/Metadata">\n                        '+n.encodeValue(i)+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>MetadataId</b:key>\n                        <b:value i:type="c:guid"  xmlns:c="http://schemas.microsoft.com/2003/10/Serialization/">\n                        '+n.encodeValue("00000000-0000-0000-0000-000000000000")+'\n                        </b:value>"\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>RetrieveAsIfPublished</b:key>\n                        <b:value i:type="c:boolean" xmlns:c="http://www.w3.org/2001/XMLSchema">\n                        '+n.encodeValue(a.toString())+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>LogicalName</b:key>\n                        <b:value i:type="c:string" xmlns:c="http://www.w3.org/2001/XMLSchema">\n                        '+n.encodeValue(t)+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>RetrieveEntity</a:RequestName>\n            </request>\n        ',l=!!r;return n.doRequest(c,"Execute",l,function(e){
for(var t=n.selectNodes(e,"//b:value"),a=[],i=0,s=t.length;s>i;i++){var o=n.objectifyNode(t[i]);o._type="EntityMetadata",a.push(o)}return l?void r(a):a})},e.RetrieveAttributeMetadata=function(e,t,a,r){var i='\n            <request i:type="a:RetrieveAttributeRequest" xmlns:a="http://schemas.microsoft.com/xrm/2011/Contracts">\n                <a:Parameters xmlns:b="http://schemas.datacontract.org/2004/07/System.Collections.Generic">\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>EntityLogicalName</b:key>\n                        <b:value i:type="c:string" xmlns:c="http://www.w3.org/2001/XMLSchema">\n                        '+n.encodeValue(e)+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>MetadataId</b:key>\n                        <b:value i:type="ser:guid"  xmlns:ser="http://schemas.microsoft.com/2003/10/Serialization/">\n                        '+n.encodeValue("00000000-0000-0000-0000-000000000000")+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>RetrieveAsIfPublished</b:key>\n                        <b:value i:type="c:boolean" xmlns:c="http://www.w3.org/2001/XMLSchema">\n                        '+n.encodeValue(a.toString())+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                    <a:KeyValuePairOfstringanyType>\n                        <b:key>LogicalName</b:key>\n                        <b:value i:type="c:string"   xmlns:c="http://www.w3.org/2001/XMLSchema">\n                        '+n.encodeValue(t)+'\n                        </b:value>\n                    </a:KeyValuePairOfstringanyType>\n                </a:Parameters>\n                <a:RequestId i:nil="true" />\n                <a:RequestName>RetrieveAttribute</a:RequestName>\n            </request>\n        ',s=!!r;return n.doRequest(i,"Execute",s,function(e){for(var t=n.selectNodes(e,"//b:value"),a=[],i=0,o=t.length;o>i;i++){var c=n.objectifyNode(t[i]);a.push(c)}return s?void r(a):a})},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i}])});
//# sourceMappingURL=XrmServiceToolkit.min.js.map